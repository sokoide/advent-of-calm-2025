# Initial Concept
go/ ディレクトリ以下はGo-D2の双方向CALMエディタです。CALM（Common Architecture Language Model）のJSONメンテナンスの負荷を軽減し、「Architecture as Code」の思想に基づき、Goの型安全性と合成パターンを活用してアーキテクチャを定義・生成することを目的としています。

# Product Guide

## 1. Product Vision
アーキテクチャ設計を、単なるJSON/YAMLの編集作業から、創造的な開発プロセスへと変革します。Go DSLを用いることで、大規模なシステムの設計意図を簡潔かつ知的に記述し、視覚的なフィードバックと堅牢な検証を即座に提供します。

## 2. Target Users
- **システムアーキテクト**: 複雑なマイクロサービス群の設計整合性を、コードレベルで管理・検証したい層。
- **DevOpsエンジニア**: インフラ構成と設計モデルを同期させ、信頼性の高いドキュメントを自動維持したい層。
- **開発者**: 静的な設定ファイル管理に限界を感じ、IDEの支援を受けながら設計を楽しみたい層。

## 3. Core Values
- **型安全性と早期発見**: Goのコンパイラと型システムを活用し、設計ミスをランタイム前に検知。
- **高速なフィードバックループ**: コードの変更が即座にD2図に反映され、設計の「体感」を向上。
- **信頼の単一ソース (SSoT)**: 重複を排除し、一つの定義から図面、仕様書、バリデーション結果を矛盾なく生成。

## 4. Key Features
- **双方向フィードバック (Go <-> D2)**: コードによる定義と、D2による視覚化をシームレスに連携。
- **マルチ出力サポート**: 単一のGo DSLから、CALM JSON、D2、Mermaid、Markdownを一括生成。
- **カスタムバリデーション・エンジン**: プロジェクト固有の規約を自動検証する仕組み。

## 5. Architectural Principles
- **Clean Architectureの徹底**: Domain, Usecase, Infra層を明確に分離し、特定ツールへの依存を最小化。
- **TDD (Test-Driven Development) による設計検証**: モデルが期待通りの制約を満たしているかをテストコードで検証。
